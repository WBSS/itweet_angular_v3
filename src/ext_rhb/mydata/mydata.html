<ng-include src="'app/menu.html'"></ng-include>
<md-subheader class="md-primary" style="{{::subheaderStyle}}">
    <span style="color: #ffffff" translate>personel_register</span>
</md-subheader>
<md-content class="md-padding" flex>
    <div ng-switch="vm.loaded">
        <div ng-switch-when="false" layout="row" layout-sm="column" layout-align="center center">
            <p translate>loading</p>
        </div>
        <form ng-switch-default name="inputForm" ng-submit="vm.save()">
            <p translate>mydata_login</p>
            <span ng-hide="true" translate>search</span>
            <md-autocomplete
                    md-delay="200"
                    md-selected-item="vm.selectedPerson"
                    md-search-text="vm.searchText"
                    md-items="person in vm.querySearch(vm.searchText)"
                    md-item-text="vm.getFullPerson(person)"
                    md-min-length="0"
                    placeholder="{{'search' | translate}}">
                <md-item-template>
                    <span md-highlight-text="vm.searchText" md-highlight-flags="i">{{vm.getFullPerson(person)}}</span>
                </md-item-template>
            </md-autocomplete>
            <div ng-show="vm.validPerson==false">
                <div class="error"><p translate>mydata_error</p></div>
            </div>
        </form>
    </div>
</md-content>

<footer ng-show="vm.loaded">
    <md-button class="md-primary footer-button" style="{{::footerStyle}}" ng-click="vm.save()"><span translate>personel_button_save</span>
    </md-button>
</footer>